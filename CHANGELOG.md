# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).


## [v0.3.0] - 2025-09-19

### Added
- Registering hooks for specific event actions
- Hook processing errors are now captured by the `internal.error` event
- SSE-based reconnecting
- Improved typing for payloads
- Dedicated internal event objects

### Changed
- The hook registering system was completely redesigned, now relying on
  autogenerated namespaces instead of `Monalisten.on`/`.on_internal`
- `MonalistenError` was split into two context-tied exceptions:
  `MonalistenPreprocessingError` and `MonalistenSetupError`
- Hook signatures for the `internal.auth_issue` and `internal.error` were
  modified to rely on the dedicated event objects
- The `AuthIssue` enum was renamed to `AuthIssueKind` (`AuthIssue` now refers to
  the new internal event object)
- The `internal.ready` event is now sent before streaming events

### Fixed
- The client will no longer crash if it receives a payload with signature and
  event name headers but no body

### Removed
- The `MonalistenError` exception
- The `Monalisten.on` and `Monalisten.on_internal` decorators


## [v0.2.0] - 2025-08-23

### Added
- Internal event hooks with `Monalisten.on_internal`

### Changed
- `MonalistenError` can now be imported directly from `monalisten`

### Removed
- `log_auth_warnings` parameter


## [v0.1.1] - 2025-08-20

### Fixed
- Import times have been significantly improved (e.g. importing `PushEvent` can
  be around 20â€“30x faster (measured on Apple M2: 5.36s â†’ 196ms))
- Non-casefolded headers are no longer ignored
- Empty payloads containing whitespace are no longer considered non-empty


## [v0.1.0] - 2025-08-14

Initial release ðŸŽ‰


[v0.1.0]: https://github.com/trag1c/monalisten/releases/tag/v0.1.0
[v0.1.1]: https://github.com/trag1c/monalisten/compare/v0.1.0...v0.1.1
[v0.2.0]: https://github.com/trag1c/monalisten/compare/v0.1.1...v0.2.0
[v0.3.0]: https://github.com/trag1c/monalisten/compare/v0.2.0...v0.3.0
